<HTML>
<HEAD>
<TITLE>HTML::DWT - DreamWeaver HTML Template Module</TITLE>
<LINK REV="made" HREF="mailto:root@porky.devel.redhat.com">
</HEAD>

<BODY>

<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#NAME">NAME</A>
	<LI><A HREF="#INSTALLATION">INSTALLATION</A>
	<UL>

		<LI><A HREF="#Unzip_tar_the_archive_">Unzip/tar the archive:</A>
		<LI><A HREF="#Create_the_makefile">Create the makefile</A>
		<LI><A HREF="#Make_the_module_must_have_root_">Make the module (must have root access to install)</A>
	</UL>

	<LI><A HREF="#SYNOPSIS">SYNOPSIS</A>
	<LI><A HREF="#DESCRIPTION">DESCRIPTION</A>
	<LI><A HREF="#METHODS">METHODS</A>
	<UL>

		<LI><A HREF="#Options">Options</A>
		<LI><A HREF="#new_">new()</A>
		<LI><A HREF="#fill_">fill()</A>
		<LI><A HREF="#param_">param()</A>
		<LI><A HREF="#clear_params_">clear_params()</A>
		<LI><A HREF="#output_">output()</A>
		<LI><A HREF="#export_">export()</A>
		<LI><A HREF="#query_">query()</A>
	</UL>

	<LI><A HREF="#DIAGNOSTICS">DIAGNOSTICS</A>
	<LI><A HREF="#BUGS">BUGS</A>
	<LI><A HREF="#COMPATABILITY_NOTES">COMPATABILITY NOTES</A>
	<LI><A HREF="#AUTHOR">AUTHOR</A>
	<LI><A HREF="#SEE_ALSO">SEE ALSO</A>
	<LI><A HREF="#LICENSE">LICENSE</A>
</UL>
<!-- INDEX END -->

<HR>
<P>
<H1><A NAME="NAME">NAME</A></H1>
<P>
HTML::DWT - DreamWeaver HTML Template Module

<P>
<HR>
<H1><A NAME="INSTALLATION">INSTALLATION</A></H1>
<P>
<HR>
<H2><A NAME="Unzip_tar_the_archive_">Unzip/tar the archive:</A></H2>
<P>
<PRE>  tar xvfz HTML-DWT-2.07
</PRE>
<P>
<HR>
<H2><A NAME="Create_the_makefile">Create the makefile</A></H2>
<P>
<PRE>  perl Makefile.PL
</PRE>
<P>
<HR>
<H2><A NAME="Make_the_module_must_have_root_">Make the module (must have root access to install)</A></H2>
<P>
<PRE>  make
  make test
  make install
</PRE>
<P>
<HR>
<H1><A NAME="SYNOPSIS">SYNOPSIS</A></H1>
<P>
<PRE>  use HTML::DWT;
  
  $template = new HTML::DWT(filename =&gt; &quot;file.dwt&quot;);    
  %dataHash = (
                doctitle =&gt; 'DWT Generated',
                leftcont =&gt; 'some HTML content here'    
                );  
  $html = $template-&gt;fill(\%dataHash);
  
  or
  
  use HTML::DWT qw(:Template);
  
  $template = new HTML::DWT(filename =&gt; &quot;file.dwt&quot;);
  $template-&gt;param(
                   doctitle =&gt; '&lt;title&gt;DWT Generated&lt;/title&gt;',
                   leftcont =&gt; 'Some HTML content here'
                   );
  $html = $template-&gt;output();
</PRE>
<P>
<HR>
<H1><A NAME="DESCRIPTION">DESCRIPTION</A></H1>
<P>
A perl module designed to parse a simple HTML template file generated by
Macromedia Dreamweaver and replace fields in the template with values from
a CGI script.  

<P>
<HR>
<H1><A NAME="METHODS">METHODS</A></H1>
<P>
<HR>
<H2><A NAME="Options">Options</A></H2>
<P>
<PRE>  use HTML::DWT qw(:Template);
</PRE>
<P>
Using the Template option allows for built in support in HTML::DWT for the
HTML::Template invocation syntax (param(), <CODE>output()</CODE> etc.) See
HTML::Template for more details. It is best to require a version of 2.05
for HTML::DWT to support this option.

<P>
<HR>
<H2><A NAME="new_">new()</A></H2>
<P>
<PRE>  new HTML::DWT(&quot;file.dwt&quot;);
</PRE>
<P>
<PRE>  new HTML::DWT(
                filename =&gt; &quot;file.dwt&quot;,
                associate =&gt; $q,
                case_sensitive =&gt; 1,
                no_includes =&gt; 1,
                );
</PRE>
<P>
Creates and returns a new HTML::DWT object based on the Dreamweaver
template 'file.dwt' (can specify a relative or absolute path). The Second
instance is recommended, although the first style is still supported for
backwards compatability with versions before 2.05.

<P>
The associate option allows the template to inherit parameter values from
other objects. The object associated with the template must have a
<CODE>param()</CODE> method which works like HTML::DWT's
<CODE>param().</CODE> Both CGI and HTML::Template fit this profile. To
associate another object, create it and pass the reference scalar to
HTML::DWT's <CODE>new()</CODE> method under the associate option (see
above).

<P>
The case_sensitive option allows HTML::DWT to treat template fields in a
case-sensitive manner. HTML::DWT's default behavior is to match all fields
in a case-insensitive manner (i.e. doctitle is considered the same as
DOCTITLE or DocTitle). Set case_sensitive to 1 to over- ride this default
behavior.

<P>
HTML::DWT will by default look for any included Dreamweaver library item
files (.lbi files) that may be specified in the template using the &lt;!--
#BeginLibraryItem ``file.lbi'' -&gt; field. The module will open the
specified library file and will include the file's contents in the
generated HTML. Setting no_includes to 1 will over-ride this default
behavior.

<P>
Additional options may be passed to the constructor to emulate
HTML::Template behavior (see that module's documentation) although only
filename, associate, case_sensitive and no_includes are supported as of
HTML::DWT version 2.07.

<P>
<HR>
<H2><A NAME="fill_">fill()</A></H2>
<P>
<PRE>  $template-&gt;fill(\%dataHash);
</PRE>
<P>
<PRE>  $template-&gt;fillTemplate(\%dataHash);
</PRE>
<P>
Takes a hash reference where the keys are the named areas of the template
and the associated values are HTML content for those areas. This method
returns a complete HTML document, which can then be sent to STDOUT (the
browser). The <CODE>fill()</CODE> method is the prefered means of accessing
this functionality; <CODE>fillTemplate()</CODE> is implemented only to
support versions of HTML::DWT earlier than version 2.05.

<P>
<HR>
<H2><A NAME="param_">param()</A></H2>
<P>
<PRE>  $template-&gt;param();
</PRE>
<P>
<PRE>  $template-&gt;param('doctitle');
</PRE>
<P>
<PRE>  $template-&gt;param(
                  doctitle =&gt; '&lt;title&gt;DWT Generated&lt;/title&gt;',
                  leftcont =&gt; 'Some HTML content here'
                  );
</PRE>
<P>
Takes a hash of one or more key/value pairs, where each key is a named area
of the template, and the associated value is the HTML content for that
area. This method returns void (HTML substitiutions are stored within the
object awaiting <CODE>output()).</CODE>

<P>
If called with a single paramter--this parameter must be a valid field
name--param() returns the value currently set for the field, or undef if no
value has been set.

<P>
If called with no parameters, <CODE>param()</CODE> returns a list of all
field names.

<P>
NOTE: All Dreamweaver templates store the HTML page's title in a field
named 'doctitle'. HTML::DWT will accept a raw title (without &lt;title&gt;
tags) and will add the appropriate tags if the content of the 'doctitle'
field should require them.

<P>
This is a HTML::Template compatible method.

<P>
<HR>
<H2><A NAME="clear_params_">clear_params()</A></H2>
<P>
<PRE>  $template-&gt;clear_params();
</PRE>
<P>
Clears all field values from the template's parameter list and sets each
parameter to an undefined value.

<P>
This is a HTML::Template compatible method.

<P>
<HR>
<H2><A NAME="output_">output()</A></H2>
<P>
<PRE>  $template-&gt;output();
  
  $template-&gt;output(print_to =&gt; \*STDOUT);
</PRE>
<P>
Returns the parsed template and its substituted HTML for output. The
template must be filled using either <CODE>fill()</CODE> or
<CODE>param()</CODE> before calling <CODE>output().</CODE>

<P>
Alternativly, by passing a filehandle reference to <CODE>output()'s</CODE> 
<STRONG>print_to</STRONG> option you may output the template content directly to that filehandle. In
this case <CODE>output()</CODE> returns an undefined value.

<P>
This is a HTML::Template compatible method.

<P>
<HR>
<H2><A NAME="export_">export()</A></H2>
<P>
<PRE>  $template-&gt;export(
                    type  =&gt; 'dw',
                    output =&gt; 'file',
                    filename =&gt; 'dwt.xml',
                    print_to =&gt; \*STDOUT
                    );
</PRE>
<P>
This method exports the filled template data to an XML file format.
Dreamweaver supports two XML styles for templates, the Dreamweaver style,
and another standardized style. 'dw', the type flag for the Dreamweaver
style is the default setting for <CODE>export(),</CODE> although you may
change that by using the <STRONG>type</STRONG> option and passing it either 'dw' or 'er'.

<P>
If no output style is indicated, <CODE>export()</CODE> will return the XML
document. Output may be sent to a file, in which case the <STRONG>output</STRONG> option is passed the value 'file', or output may be sent to an open
filehandle, in which case 
<STRONG>output</STRONG> is passed a 'FH' value.

<P>
If sending output to a file, the <STRONG>filename</STRONG> option musst be included with a valid filename (absolute or relative paths
are acceptable). Export will return the filename, or undefined on an error.
Error messages are stored in $HTML::DWT::errmsg.

<P>
If sending output to a filehandle instead of using the <STRONG>filename</STRONG> option , pass a reference to a filehandle to the <STRONG>print_to</STRONG> option. For convienience of use with CGI scripts, <CODE>export()</CODE>
will include a 'Content-type: text/xml' header before the XML document when
outputting to a filehandle. When sending output to a filehandle
<CODE>export()</CODE> returns undefined.

<P>
<HR>
<H2><A NAME="query_">query()</A></H2>
<P>
<PRE>  $template-&gt;query();
</PRE>
<P>
<PRE>  $template-&gt;query('doctitle');
</PRE>
<P>
<PRE>  $template-&gt;query(name =&gt; 'doctitle');
</PRE>
<P>
Returns the 'type' of the template field specified. For all HTML::DWT
fields the type is 'VAR' (HTML::DWT doesn't support HTML::Template's idea
of LOOPs or IFs). If called with no parameters, <CODE>query()</CODE>
returns a list of all field names.

<P>
This is a HTML::Template compatible method.

<P>
<HR>
<H1><A NAME="DIAGNOSTICS">DIAGNOSTICS</A></H1>
<DL>
<DT><STRONG><A NAME="item_Template">Template File $file not opened:</A></STRONG><DD>
<P>
(F) The template file was not opened properly. This message is stored in
$HTML::DWT::errmsg

</DL>
<P>
<HR>
<H1><A NAME="BUGS">BUGS</A></H1>
<P>
No known bugs, but if you find any please contact the author.

<P>
<HR>
<H1><A NAME="COMPATABILITY_NOTES">COMPATABILITY NOTES</A></H1>
<P>
HTML:DWT is moving towards supporting much, if not all of the functionality
of HTML::Template for Dreamweaver templates. Not All HTML::Template
functionality is fully supported yet, and while the HTML::Template
documentation should be the reference source for all HTML::Template
compatible methods and functions, only those methods documented as being
supported, and the manner of their support as documented in HTML::DWT are
actually supported by this module.

<P>
In plain english--RT(HTML:DWT)M and use it. :)

<P>
If you would like to assist in the development of this module, please
contact the author.

<P>
<HR>
<H1><A NAME="AUTHOR">AUTHOR</A></H1>
<P>
S.D. Campbell, <A
HREF="mailto:whytwolf@spots.ab.ca">whytwolf@spots.ab.ca</A>

<P>
<HR>
<H1><A NAME="SEE_ALSO">SEE ALSO</A></H1>
<P>
<CODE>perl(1),</CODE> HTML::Template, HTML::LBI.

<P>
<HR>
<H1><A NAME="LICENSE">LICENSE</A></H1>
<P>
This program is free software; you can redistribute it and/or modify it
under the terms of the GNU General Public License as published by the Free
Software Foundation; either version 2 of the License, or (at your option)
any later version.

<P>
This program is distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
more details.

<P>
You should have received a copy of the GNU General Public License along
with this program; if not, write to the Free Software Foundation, Inc., 675
Mass Ave, Cambridge, MA 02139, USA.

</BODY>

</HTML>
